---
import BaseLayout from "@/layouts/BaseLayout.astro";
import data from "@/assets/data.json";
import StatusBadge from "@/components/StatusBadge.astro";
import { Card, CardContent } from "@/components/ui/card";
import { createDate, formatMoney, type Country } from "@/lib/utils";
---

<BaseLayout>
	{
		data.map((invoice) => {
			return (
				<Card>
					<CardContent className="p-0">
						<a
							href={`/invoice/${invoice.id}`}
							id={invoice.id}
							class="block cursor-pointer p-5"
						>
							<span class="flex w-full items-center justify-between">
								<h3 class="mb-3">
									<span class="text-gray-400">#</span>
									{invoice.id}
								</h3>
								<p>{invoice.clientName}</p>
							</span>
							<span class="flex w-full items-center justify-between">
								<div>
									<p class="text-gray-300">
										Due {createDate(invoice.paymentDue)}
									</p>
									<p class="text-md font-bold">
										{formatMoney(
											invoice.total,
											invoice.clientAddress
												.country as Country
										)}
									</p>
								</div>
								<StatusBadge status={invoice.status} />
							</span>
						</a>
					</CardContent>
				</Card>
			);
		})
	}
</BaseLayout>
